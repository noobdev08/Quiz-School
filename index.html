<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="nooblogo.png">
  <title>Noobie's Pre-Exam | CBT</title>
  <style>
    :root {
      --bg: #000000;
      --card: #1A1A1A;
      --accent: #FFD700;
      --muted: #888888;
      --good: #00c853;
      --ok: #ffd54f;
      --bad: #ff5252;
      --text-light: #F0F0F0;
      --glass: rgba(255,255,255,0.03);
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: Inter, "Segoe UI", Roboto, Arial, sans-serif;
      background: linear-gradient(135deg, #151515, #000000);
      color: var(--text-light);
      padding: 24px;
      min-height: 100vh;
    }

    header { text-align: center; margin-bottom: 20px; }
    h1 {
      margin: 0;
      font-size: 28px;
      color: var(--accent);
      text-shadow: 0 2px 8px rgba(255, 215, 0, 0.25);
    }
    .meta { color: var(--muted); margin-top: 8px; font-size: 14px; }

    main { max-width: 980px; margin: 18px auto; }

    .quiz-card {
      background: var(--card);
      border-radius: 12px;
      padding: 18px;
      margin: 14px 0;
      box-shadow: 0 8px 20px rgba(0,0,0,0.5);
      border: 1px solid rgba(255, 215, 0, 0.06);
    }

    .qrow { display: flex; gap: 14px; align-items: flex-start; margin-bottom: 10px; }
    .qnum {
      min-width: 44px; height: 44px; line-height: 44px;
      text-align: center; border-radius: 10px;
      background: var(--accent); color: #000; font-weight: 700;
      box-shadow: 0 4px 12px rgba(255, 215, 0, 0.2);
      flex-shrink: 0;
    }
    .qtext { flex: 1; font-size: 15px; font-weight: 500; line-height: 1.5; }

    .options { margin-top: 12px; padding-left: 8px; }
    label.opt {
      display: block;
      padding: 10px 14px;
      margin: 8px 0;
      border-radius: 8px;
      cursor: pointer;
      background: #1f1f1f;
      border: 1px solid rgba(255,215,0,0.08);
      transition: transform .12s ease, box-shadow .12s ease;
      user-select: none;
    }
    label.opt:hover { transform: translateY(-4px); box-shadow: 0 8px 22px rgba(0,0,0,0.6); border-color: var(--accent); }

    input[type="radio"] { margin-right: 12px; accent-color: var(--accent); }

    .controls { text-align: center; margin: 26px 0; }

    button.primary {
      background: var(--accent); color: #000; border: 0;
      padding: 12px 26px; font-size: 15px; border-radius: 10px;
      cursor: pointer; box-shadow: 0 10px 30px rgba(255,215,0,0.22);
      font-weight: 700;
    }
    button.primary:hover { transform: translateY(-3px); background: #ffea5a; }

    button.secondary {
      margin-left: 12px; padding: 10px 18px; border-radius: 10px;
      cursor: pointer; background: transparent; color: var(--muted);
      border: 1px solid rgba(255,255,255,0.06);
    }
    button.secondary:hover { color: var(--accent); border-color: var(--accent); }

    /* ====== RESULT STYLES (ONLY THIS AREA changed) ====== */
    #result {
      display: none;                 /* starts hidden; will be inline under controls */
      max-width: 900px;
      margin: 18px auto;
      padding: 20px;
      border-radius: 12px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border: 1px solid rgba(255,255,255,0.04);
      box-shadow: 0 12px 36px rgba(0,0,0,0.6);
      color: var(--text-light);
      transition: transform .28s cubic-bezier(.2,.9,.3,1), opacity .28s ease;
      backdrop-filter: blur(6px);
    }

    #result.show {
      display: block;
      transform: translateY(0);
      opacity: 1;
    }

    /* header row of result */
    #result .result-top {
      display: flex;
      gap: 16px;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
    }

    #result .score-badge {
      display: flex;
      gap: 12px;
      align-items: center;
    }

    #result .score {
      font-size: 28px;
      font-weight: 800;
      color: var(--accent);
      letter-spacing: -0.6px;
    }

    #result .percent {
      font-size: 22px;
      font-weight: 700;
      padding: 6px 12px;
      border-radius: 999px;
      background: rgba(255,215,0,0.08);
      color: var(--accent);
    }

    /* progress bar */
    .result-progress {
      width: 100%;
      height: 12px;
      border-radius: 999px;
      background: rgba(255,255,255,0.03);
      margin-top: 12px;
      overflow: hidden;
      border: 1px solid rgba(255,255,255,0.02);
    }
    .result-progress .bar {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, rgba(255,215,0,0.95), rgba(255,215,0,0.6));
      transition: width 900ms cubic-bezier(.2,.9,.3,1);
      box-shadow: 0 6px 20px rgba(255,215,0,0.08);
    }

    .result-msg {
      margin-top: 12px;
      font-size: 15px;
      color: var(--muted);
    }

    .result-actions {
      margin-top: 14px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .wrong-list {
      margin-top: 14px;
      background: rgba(255,255,255,0.02);
      border-radius: 8px;
      padding: 12px;
      font-size: 14px;
      color: var(--text-light);
      border: 1px solid rgba(255,255,255,0.02);
    }
    .wrong-item {
      padding: 8px 6px;
      border-bottom: 1px dashed rgba(255,255,255,0.03);
    }
    .wrong-item:last-child { border-bottom: none; }

    /* colored captions depending on performance */
    #result.good .percent { background: rgba(0,200,83,0.08); color: var(--good); }
    #result.ok .percent { background: rgba(255,213,79,0.06); color: var(--ok); }
    #result.try .percent { background: rgba(255,82,82,0.06); color: var(--bad); }

    @media (max-width: 640px) {
      .qrow { flex-direction: column; }
      .qnum { width: 48px; height: 48px; line-height: 48px; }
      button.primary, button.secondary { width: 100%; margin: 6px 0; }
    }
  </style>
</head>
<body>
  <header>
    <h1>Noobie's Pre-Exam | CBT Test</h1>
    <div class="meta">
  Calculus Objective Test â€” 70 Questions covering Differentiation & Integration (basic to advanced) â€¢ <strong>1 mark</strong> per correct answer
</div>
    <div class="meta">Total questions: <span id="totalQs">70</span></div>
  </header>

  <main id="quizContainer"></main>

  <div class="controls">
    <button class="primary" id="submitBtn" onclick="submitQuiz()">Submit Test</button>
    <button class="secondary" id="resetBtn" onclick="resetQuiz()">Reset Answers</button>
  </div>

  <!-- RESULT (inline below controls) -->
  <div id="result" aria-live="polite"></div>

  <div class="note" style="text-align:center; color:var(--muted); margin-top:12px;">
    This quiz covers MTH102
  </div>

  <footer style="text-align:center; color:var(--muted); font-size:13px; margin-top:28px;">
    <p>Mathematics | Calculus | Original Idea by Jafaar</p>
    <p style="margin-top:20px; font-size:14px; color:gray; text-align:center;">
  ðŸ”„ This quiz will be updated daily with Computer Science courses and general courses (Maths, Physics, GST) useful for everyone.
    </p>
    <p> Made By Emmanuel | Computer Science | 100lvl | CodeX </p>
  </footer>

  <script>
    // Your exact 70-question array (word-for-word as provided)
   const questions = [
  // Differentiation - Product Rule (5)
  { q: "Find d/dx [xÂ³ sin(2x)]", options: ["3xÂ² sin(2x) + 2xÂ³ cos(2x)", "3xÂ² cos(2x)", "xÂ³ sin(2x) + 3xÂ² cos(2x)", "6xÂ² cos(2x)"], answer: "3xÂ² sin(2x) + 2xÂ³ cos(2x)" },
  { q: "Differentiate y = xÂ² e^(3x) cos(2x)", options: ["e^(3x)(2x cos2x + 3xÂ² cos2x - 2xÂ² sin2x)", "e^(3x)(2x cos2x + 3xÂ² cos2x)", "xÂ² e^(3x)(3cos2x - 2sin2x)", "6x e^(3x) cos2x"], answer: "e^(3x)(2x cos2x + 3xÂ² cos2x - 2xÂ² sin2x)" },
  { q: "Find d/dx [x sinx e^x]", options: ["e^x(sinx + x cosx + x sinx)", "e^x(x cosx + sinx)", "x e^x cosx", "sinx e^x(1 + x)"], answer: "e^x(sinx + x cosx + x sinx)" },
  { q: "Differentiate y = âˆšx ln(xÂ²)", options: ["ln(xÂ²)/(2âˆšx) + 2âˆšx/x", "2/âˆšx", "ln(xÂ²)/(2âˆšx)", "âˆšx/x + ln(xÂ²)/(2âˆšx)"], answer: "ln(xÂ²)/(2âˆšx) + 2âˆšx/x" },
  { q: "Differentiate y = xÂ² arctan x", options: ["2x arctan x + xÂ²/(1+xÂ²)", "xÂ²/(1+xÂ²)", "2x arctan x", "arctan x + x/(1+xÂ²)"], answer: "2x arctan x + xÂ²/(1+xÂ²)" },

  // Integration - Trigonometric (5)
  { q: "Evaluate âˆ« sinÂ³x cosÂ²x dx", options: ["-cosÂ³x/3 + cosâµx/5 + C", "sinâ´x/4 - sinâ¶x/6 + C", "cosâµx/5 + C", "sinÂ³x/3 + C"], answer: "-cosÂ³x/3 + cosâµx/5 + C" },
  { q: "Evaluate âˆ« sinÂ²x cosÂ³x dx", options: ["sinÂ³x/3 - sinâµx/5 + C", "cosâ´x/4 + C", "sinÂ³x cosÂ²x/6 + C", "-cosâ´x sinx/4 + C"], answer: "sinÂ³x/3 - sinâµx/5 + C" },
  { q: "Evaluate âˆ« sin(3x) cos(2x) dx", options: ["-cos(5x)/10 - cosx/2 + C", "sin(5x)/10 + sinx/2 + C", "-cos(3x)sin(2x)/6 + C", "cos(5x)/5 + C"], answer: "-cos(5x)/10 - cosx/2 + C" },
  { q: "Evaluate âˆ« tanÂ³x sec x dx", options: ["(secÂ³x)/3 - sec x + C", "tanâ´x/4 + C", "secÂ³x/3 + C", "tanÂ²x/2 + C"], answer: "(secÂ³x)/3 - sec x + C" },
  { q: "Evaluate âˆ« cotÂ²x cscÂ²x dx", options: ["-cotÂ³x/3 + C", "-cscÂ³x/3 + C", "tanÂ³x/3 + C", "cot x + C"], answer: "-cotÂ³x/3 + C" },

  // Differentiation - Quotient Rule (5)
  { q: "Differentiate y = (xÂ² + 1)/(xÂ² - 1)", options: ["-4x/(xÂ² - 1)Â²", "2x/(xÂ² - 1)", "4x/(xÂ² - 1)Â²", "(2x(xÂ²-1) - 2x(xÂ²+1))/(xÂ²-1)Â²"], answer: "-4x/(xÂ² - 1)Â²" },
  { q: "Differentiate y = tan x/(xÂ² + 1)", options: ["(secÂ²x(xÂ²+1) - 2x tanx)/(xÂ²+1)Â²", "secÂ²x/(xÂ²+1)", "(tanx - 2x)/(xÂ²+1)Â²", "secÂ²x/(2x)"], answer: "(secÂ²x(xÂ²+1) - 2x tanx)/(xÂ²+1)Â²" },
  { q: "Differentiate y = (e^(2x))/(xÂ² + 3)", options: ["[2e^(2x)(xÂ²+3) - 2x e^(2x)]/(xÂ²+3)Â²", "e^(2x)/(xÂ²+3)", "2e^(2x)/(2x)", "[e^(2x)(2xÂ²-2x+6)]/(xÂ²+3)Â²"], answer: "[2e^(2x)(xÂ²+3) - 2x e^(2x)]/(xÂ²+3)Â²" },
  { q: "Differentiate y = (ln x)/(xÂ² + 1)", options: ["(1/x(xÂ²+1) - 2x lnx)/(xÂ²+1)Â²", "1/(x(xÂ²+1))", "(1 - 2lnx)/(xÂ²+1)Â²", "(x - 2xÂ² lnx)/(xÂ²+1)Â²"], answer: "(1/x(xÂ²+1) - 2x lnx)/(xÂ²+1)Â²" },
  { q: "Differentiate y = âˆšx/(xÂ² + 1)", options: ["(1/(2âˆšx)(xÂ²+1) - 2xâˆšx)/(xÂ²+1)Â²", "1/(2âˆšx(xÂ²+1))", "(xÂ²+1 - 4xÂ²)/(2âˆšx(xÂ²+1)Â²", "(1 - 3xÂ²)/(2âˆšx(xÂ²+1)Â²)"], answer: "(1/(2âˆšx)(xÂ²+1) - 2xâˆšx)/(xÂ²+1)Â²" },

  // Definite Integrals (10)
  { q: "Evaluate âˆ«â‚€Â¹ xâˆš(1 - xÂ²) dx", options: ["1/3", "1/2", "Ï€/4", "2/3"], answer: "1/3" },
  { q: "Evaluate âˆ«â‚€Â² âˆš(4 - xÂ²) dx", options: ["Ï€", "2Ï€", "Ï€/2", "4Ï€/3"], answer: "Ï€" },
  { q: "Evaluate âˆ«â‚áµ‰ (ln x)Â²/x dx", options: ["1/3", "1", "2/3", "eÂ³/3"], answer: "1/3" },
  { q: "Evaluate âˆ«â‚€Â¹ x e^(xÂ²) dx", options: ["(e - 1)/2", "e - 1", "1/2", "eÂ²/2"], answer: "(e - 1)/2" },
  { q: "Evaluate âˆ«â‚‹â‚‚Â³ |x - 1| dx", options: ["13/2", "6", "5", "11/2"], answer: "13/2" },
  { q: "Evaluate âˆ«â‚€Â¹ xÂ²/(xÂ³ + 1) dx", options: ["(1/3)ln2", "ln2", "1/2", "2/3"], answer: "(1/3)ln2" },
  { q: "Evaluate âˆ«â‚€^{Ï€/2} sinÂ³x dx", options: ["2/3", "1/3", "1", "Ï€/6"], answer: "2/3" },
  { q: "Evaluate âˆ«â‚€Â¹ x arctan x dx", options: ["Ï€/4 - 1/2", "Ï€/4", "1/2", "Ï€/2 - 1/2"], answer: "Ï€/4 - 1/2" },
  { q: "Evaluate âˆ«â‚€Â² dx/âˆš(4 - xÂ²)", options: ["Ï€/2", "Ï€/6", "Ï€/3", "1"], answer: "Ï€/2" },
  { q: "Evaluate âˆ«â‚áµ‰Â² (ln x)/x dx", options: ["2", "1", "eÂ²", "4"], answer: "2" },

  // Chain Rule (5)
  { q: "Find d/dx [sin(âˆš(xÂ² + 1))]", options: ["(x cos(âˆš(xÂ²+1)))/âˆš(xÂ²+1)", "cos(âˆš(xÂ²+1))", "x cos(xÂ²+1)", "cos(âˆš(xÂ²+1))/(2âˆšx)"], answer: "(x cos(âˆš(xÂ²+1)))/âˆš(xÂ²+1)" },
  { q: "Find d/dx [ln(âˆš(xâ´ + 3xÂ² + 1))]", options: ["(4xÂ³ + 6x)/(2(xâ´+3xÂ²+1))", "1/âˆš(xâ´+3xÂ²+1)", "(2xÂ³+3x)/(xâ´+3xÂ²+1)", "ln(xâ´+3xÂ²+1)/2"], answer: "(4xÂ³ + 6x)/(2(xâ´+3xÂ²+1))" },
  { q: "Find d/dx [sin(ln(xÂ² + 1))]", options: ["2x cos(ln(xÂ²+1))/(xÂ²+1)", "cos(ln(xÂ²+1))", "2x/(xÂ²+1) cos(xÂ²+1)", "cos(1/(xÂ²+1))"], answer: "2x cos(ln(xÂ²+1))/(xÂ²+1)" },
  { q: "Find d/dx [sin(cos(xÂ²))]", options: ["-2x sin(xÂ²) cos(cos(xÂ²))", "-sin(xÂ²) cos(cos(xÂ²))", "2x cos(xÂ²) sin(cos(xÂ²))", "-2x cos(xÂ²) sin(xÂ²)"], answer: "-2x sin(xÂ²) cos(cos(xÂ²))" },
  { q: "Find d/dx [e^(sin(xÂ²))]", options: ["2x cos(xÂ²) e^(sin(xÂ²))", "cos(xÂ²) e^(sin(xÂ²))", "2x e^(sin(xÂ²))", "e^(cos(xÂ²))"], answer: "2x cos(xÂ²) e^(sin(xÂ²))" },

  // Integration by Parts (5)
  { q: "Evaluate âˆ« xÂ² e^x dx", options: ["e^x(xÂ² - 2x + 2) + C", "xÂ² e^x - 2xe^x + C", "e^x(xÂ² + 2x + 2) + C", "xÂ³ e^x/3 + C"], answer: "e^x(xÂ² - 2x + 2) + C" },
  { q: "Evaluate âˆ« xÂ² sinx dx", options: ["-xÂ² cosx + 2x sinx + 2cosx + C", "xÂ² cosx - 2x sinx + C", "-xÂ² cosx + 2x sinx + C", "2x cosx - sinx + C"], answer: "-xÂ² cosx + 2x sinx + 2cosx + C" },
  { q: "Evaluate âˆ« e^x sinx dx", options: ["(e^x/2)(sinx - cosx) + C", "e^x cosx + C", "(e^x/2)(sinx + cosx) + C", "e^x sinx - e^x cosx + C"], answer: "(e^x/2)(sinx - cosx) + C" },
  { q: "Evaluate âˆ« xÂ³ ln x dx", options: ["xâ´(4ln x - 1)/16 + C", "xâ´ ln x/4 + C", "xâ´(ln x - 1)/4 + C", "3xÂ² ln x + C"], answer: "xâ´(4ln x - 1)/16 + C" },
  { q: "Evaluate âˆ« arctan x dx", options: ["x arctan x - (1/2)ln(1+xÂ²) + C", "(1/2)xÂ² arctan x + C", "arctan x/x + C", "ln|1+xÂ²| + C"], answer: "x arctan x - (1/2)ln(1+xÂ²) + C" },

  // Implicit Differentiation (5)
  { q: "Find dy/dx for xÂ³ + yÂ³ = 6xy", options: ["(2y - xÂ²)/(yÂ² - 2x)", "(xÂ² - 2y)/(2x - yÂ²)", "2y/xÂ²", "3xÂ²/(3yÂ²)"], answer: "(2y - xÂ²)/(yÂ² - 2x)" },
  { q: "Find dy/dx for sin(xy) = x + y", options: ["(1 - y cos(xy))/(x cos(xy) - 1)", "(1 - cos(xy))/(cos(xy) - 1)", "cos(xy)/(1 - cos(xy))", "(y cos(xy) - 1)/(1 - x cos(xy))"], answer: "(1 - y cos(xy))/(x cos(xy) - 1)" },
  { q: "Find dy/dx for e^(xy) = x + y", options: ["(1 - y e^(xy))/(x e^(xy) - 1)", "(1 - e^(xy))/(e^(xy) - 1)", "(y e^(xy) - 1)/(1 - x e^(xy))", "e^(xy)/(x+y)"], answer: "(1 - y e^(xy))/(x e^(xy) - 1)" },
  { q: "Find dy/dx for ln(xy) = xÂ² + yÂ²", options: ["(2xÂ²y - y)/(x - 2xyÂ²)", "(2xyÂ² - x)/(y - 2xÂ²y)", "2x + 2y", "1/(x+y)"], answer: "(2xÂ²y - y)/(x - 2xyÂ²)" },
  { q: "Find dy/dx for x sin y + y cos x = 1", options: ["(sin y - y sin x)/(x cos y + cos x)", "(y sin x - sin y)/(cos x + x cos y)", "(cos x - sin y)/(x cos y)", "sin y/(cos x)"], answer: "(sin y - y sin x)/(x cos y + cos x)" },

  // Partial Fractions Integration (5)
  { q: "Evaluate âˆ« (3x + 2)/(xÂ² + 3x + 2) dx", options: ["ln|(x+1)Â²/(x+2)| + C", "3ln|x+1| - ln|x+2| + C", "2ln|x+1| + ln|x+2| + C", "arctan(x+1) + C"], answer: "ln|(x+1)Â²/(x+2)| + C" },
  { q: "Evaluate âˆ« (xÂ² + 3)/(x(xÂ² + 1)) dx", options: ["3ln|x| + ln|xÂ²+1| - arctanx + C", "ln|x| + 2arctanx + C", "3ln|x| + arctanx + C", "ln|xÂ³+ x| + C"], answer: "3ln|x| + ln|xÂ²+1| - arctanx + C" },
  { q: "Evaluate âˆ« (2x - 1)/(xÂ² - 4) dx", options: ["ln|(x-2)Â³/(x+2)| + C", "2ln|x-2| + ln|x+2| + C", "ln|xÂ²-4| + C", "arctan(x/2) + C"], answer: "ln|(x-2)Â³/(x+2)| + C" },
  { q: "Evaluate âˆ« (xÂ³ + 2)/(xÂ² - 1) dx", options: ["xÂ²/2 + ln|(x-1)/(x+1)| + C", "x + ln|xÂ²-1| + C", "xÂ²/2 + 2ln|x-1| + C", "x + arctan x + C"], answer: "xÂ²/2 + ln|(x-1)/(x+1)| + C" },
  { q: "Evaluate âˆ« dx/(xÂ² + 4x + 3)", options: ["(1/2)ln|(x+1)/(x+3)| + C", "ln|xÂ²+4x+3| + C", "arctan(x+2) + C", "1/(x+1)(x+3) + C"], answer: "(1/2)ln|(x+1)/(x+3)| + C" },

  // Higher Order Derivatives (5)
  { q: "Find dÂ²y/dxÂ² if y = ln(xÂ² + 4)", options: ["2(4 - xÂ²)/(xÂ² + 4)Â²", "2x/(xÂ²+4)", "2/(xÂ²+4)", "(2xÂ²-8)/(xÂ²+4)Â²"], answer: "2(4 - xÂ²)/(xÂ² + 4)Â²" },
  { q: "Find dÂ³y/dxÂ³ if y = sin(2x)", options: ["-8cos(2x)", "8sin(2x)", "-4cos(2x)", "4sin(2x)"], answer: "-8cos(2x)" },
  { q: "Find dÂ²y/dxÂ² if x = cos t, y = sin t", options: ["-cscÂ³t", "-secÂ³t", "cot t", "-tan t"], answer: "-cscÂ³t" },
  { q: "Find dÂ²y/dxÂ² if y = e^(2x) cos x", options: ["e^(2x)(3cos x - 4sin x)", "e^(2x)(4cos x - 3sin x)", "2e^(2x) cos x", "e^(2x)(cos x - 2sin x)"], answer: "e^(2x)(3cos x - 4sin x)" },
  { q: "Find dâ´y/dxâ´ if y = xÂ³ e^x", options: ["e^x(xÂ³ + 12xÂ² + 36x + 24)", "e^x(xÂ³ + 9xÂ² + 18x + 6)", "6e^x(x + 2)", "24e^x"], answer: "e^x(xÂ³ + 12xÂ² + 36x + 24)" },

  // Trigonometric Substitution (5)
  { q: "Evaluate âˆ« dx/âˆš(xÂ² + 9)", options: ["ln|x + âˆš(xÂ²+9)| + C", "arcsin(x/3) + C", "(1/3)arctan(x/3) + C", "âˆš(xÂ²+9) + C"], answer: "ln|x + âˆš(xÂ²+9)| + C" },
  { q: "Evaluate âˆ« dx/(9 + xÂ²)", options: ["(1/3)arctan(x/3) + C", "arctan(x/3) + C", "ln|9+xÂ²| + C", "(1/9)arctan(x/9) + C"], answer: "(1/3)arctan(x/3) + C" },
  { q: "Evaluate âˆ« dx/âˆš(4 - 9xÂ²)", options: ["(1/3)arcsin(3x/2) + C", "arcsin(3x/2) + C", "(1/2)arcsin(2x/3) + C", "âˆš(4-9xÂ²) + C"], answer: "(1/3)arcsin(3x/2) + C" },
  { q: "Evaluate âˆ« dx/(xÂ²âˆš(xÂ² - 4))", options: ["âˆš(xÂ²-4)/(4x) + C", "arcsec(x/2) + C", "ln|x + âˆš(xÂ²-4)| + C", "âˆš(xÂ²-4)/x + C"], answer: "âˆš(xÂ²-4)/(4x) + C" },
  { q: "Evaluate âˆ« âˆš(xÂ² - 9)/x dx", options: ["âˆš(xÂ²-9) - 3arcsec(x/3) + C", "xâˆš(xÂ²-9)/2 + C", "ln|x + âˆš(xÂ²-9)| + C", "âˆš(xÂ²-9) + arcsec(x/3) + C"], answer: "âˆš(xÂ²-9) - 3arcsec(x/3) + C" },

  // Logarithmic Differentiation (5)
  { q: "Find d/dx [x^(sinx)]", options: ["x^(sinx)(cosx lnx + sinx/x)", "x^(sinx) cosx", "sinx x^(sinx-1)", "x^(sinx) lnx"], answer: "x^(sinx)(cosx lnx + sinx/x)" },
  { q: "Find d/dx [(sin x)^(cos x)]", options: ["(sin x)^(cos x)(-sin x ln(sin x) - cosÂ²x/sin x)", "(sin x)^(cos x) cos x", "-cos x (sin x)^(cos x-1)", "(sin x)^(cos x) ln(sin x)"], answer: "(sin x)^(cos x)(-sin x ln(sin x) - cosÂ²x/sin x)" },
  { q: "Find d/dx [(xÂ² + 1)^(x)]", options: ["(xÂ²+1)^x(ln(xÂ²+1) + 2xÂ²/(xÂ²+1))", "(xÂ²+1)^x ln(xÂ²+1)", "x(xÂ²+1)^(x-1)", "2x(xÂ²+1)^x"], answer: "(xÂ²+1)^x(ln(xÂ²+1) + 2xÂ²/(xÂ²+1))" },
  { q: "Find d/dx [x^(1/x)]", options: ["x^(1/x)(1 - ln x)/xÂ²", "x^(1/x)(ln x + 1)/x", "1/x^(1/x)", "ln(x^(1/x))"], answer: "x^(1/x)(1 - ln x)/xÂ²" },
  { q: "Find d/dx [(ln x)^x]", options: ["(ln x)^x(ln(ln x) + 1/ln x)", "(ln x)^x ln(ln x)", "x(ln x)^(x-1)/x", "(ln x)^x/x"], answer: "(ln x)^x(ln(ln x) + 1/ln x)" },

  // Additional Definite Integrals (5)
  { q: "Evaluate âˆ«â‚€^âˆž e^(-3x) dx", options: ["1/3", "3", "âˆž", "0"], answer: "1/3" },
  { q: "Evaluate âˆ«â‚‹Ï€^Ï€ xÂ³ cosx dx", options: ["0", "2Ï€Â³", "Ï€â´/2", "6Ï€"], answer: "0" },
  { q: "Evaluate âˆ«â‚€Â¹ (x + 1)/(xÂ² + 3x + 2) dx", options: ["ln(4/3)", "ln(3/2)", "1/2", "ln2"], answer: "ln(4/3)" },
  { q: "Evaluate âˆ«â‚‚â´ (xÂ² - 1)/(x - 1) dx", options: ["14", "12", "10", "8"], answer: "14" },
  { q: "Evaluate âˆ«â‚€^{2Ï€} |sin x| dx", options: ["4", "2", "Ï€", "2Ï€"], answer: "4" },

  // Final 5 to reach exactly 70
  { q: "Evaluate âˆ« secâ´x dx", options: ["tan x + tanÂ³x/3 + C", "secÂ³x/3 + C", "tanÂ³x/3 + C", "sec x tan x + C"], answer: "tan x + tanÂ³x/3 + C" },
  { q: "Differentiate y = ln|sec x + tan x|", options: ["sec x", "tan x", "secÂ²x", "1/(sec x + tan x)"], answer: "sec x" },
  { q: "Evaluate âˆ« xâˆš(x + 1) dx", options: ["2/5(x+1)^(5/2) - 2/3(x+1)^(3/2) + C", "xÂ²/2âˆš(x+1) + C", "2/3(x+1)^(3/2) + C", "âˆš(x+1) + C"], answer: "2/5(x+1)^(5/2) - 2/3(x+1)^(3/2) + C" },
  { q: "Find d/dx [x! (Gamma function derivative)", options: ["Î“(x)Ïˆ(x)", "Î“(x)", "Ïˆ(x)", "xÎ“(x-1)"], answer: "Î“(x)Ïˆ(x)" },
  { q: "Evaluate âˆ« dx/(1 + e^x)", options: ["x - ln(1 + e^x) + C", "ln(1 + e^x) + C", "arctan(e^x) + C", "e^x/(1+e^x) + C"], answer: "x - ln(1 + e^x) + C" }
];
    // Build UI
  const container = document.getElementById('quizContainer');
  document.getElementById('totalQs').textContent = questions.length;

  // render questions
  questions.forEach((item, idx) => {
    const card = document.createElement('article');
    card.className = 'quiz-card';

    const qrow = document.createElement('div');
    qrow.className = 'qrow';

    const qnum = document.createElement('div');
    qnum.className = 'qnum';
    qnum.textContent = idx + 1;

    const qtext = document.createElement('div');
    qtext.className = 'qtext';
    qtext.innerHTML = `<strong>Q${idx + 1}:</strong> ${item.q}`;

    qrow.appendChild(qnum);
    qrow.appendChild(qtext);
    card.appendChild(qrow);

    const opts = document.createElement('div');
    opts.className = 'options';
    item.options.forEach((opt, optIdx) => {
      const id = `q${idx}_opt${optIdx}`;
      const label = document.createElement('label');
      label.className = 'opt';
      label.innerHTML = `<input type="radio" name="q${idx}" id="${id}" value="${escapeHtml(opt)}"> ${escapeHtml(opt)}`;
      opts.appendChild(label);
    });

    card.appendChild(opts);
    container.appendChild(card);
  });

  // scoring and result rendering
  function submitQuiz() {
    const total = questions.length;
    let score = 0;
    let answered = 0;
    let incorrectList = [];

    questions.forEach((q, i) => {
      const sel = document.querySelector(`input[name="q${i}"]:checked`);
      if (sel) answered++;
      if (sel && sel.value === q.answer) {
        score++;
      } else {
        const given = sel ? sel.value : null;
        incorrectList.push({
          qn: i + 1,
          given: given,
          correct: q.answer
        });
      }
    });

    const percent = Number(((score / total) * 100).toFixed(2));
    const box = document.getElementById('result');

    // reset classes
    box.className = '';

    if (percent >= 80) box.classList.add('good');
    else if (percent >= 50) box.classList.add('ok');
    else box.classList.add('try');

    const performanceText =
      percent >= 80 ? 'Excellent work! You have a strong understanding.' :
      percent >= 50 ? 'Good effort! Review the topics you missed.' :
      'Keep studying! Use this as a learning opportunity.';

    const percentLabel = `${percent}%`;
    const scoreLabel = `${score} / ${total}`;

    let html = `
      <div class="result-top">
        <div class="score-badge">
          <div>
            <div class="score">${scoreLabel}</div>
            <div style="font-size:13px; color:var(--muted);">Answered: ${answered} of ${total}</div>
          </div>
        </div>
        <div style="text-align:right;">
          <div style="font-size:13px; color:var(--muted);">Performance</div>
          <div class="percent">${percentLabel}</div>
        </div>
      </div>

      <div class="result-progress" aria-hidden="true">
        <div class="bar" id="resultBar" style="width:0%"></div>
      </div>

      <div class="result-msg">${escapeHtml(performanceText)}</div>

      <div class="result-actions">
        <button class="primary" onclick="retakeQuiz()">Retake Quiz</button>
        <button class="secondary" onclick="scrollToTop()">Review Answers</button>
      </div>
    `;

    if (incorrectList.length > 0) {
      html += `<div class="wrong-list">
                <div style="font-weight:700; margin-bottom:8px; color:var(--muted);">
                  Incorrect/Unanswered Questions (${incorrectList.length}):
                </div>
                ${incorrectList.map(it => {
                  const givenText = it.given ? `Your answer: "${escapeHtml(it.given)}"` : 'Not answered';
                  return `<div class="wrong-item"><strong>Q${it.qn}</strong> â€” ${givenText} â€¢ Correct: "${escapeHtml(it.correct)}"</div>`;
                }).join('')}
              </div>`;
    }

    box.innerHTML = html;
    box.style.display = 'block';

    requestAnimationFrame(() => {
      const bar = document.getElementById('resultBar');
      if (bar) bar.style.width = percent + '%';
    });

    box.scrollIntoView({ behavior: 'smooth', block: 'start' });

    // disable submit until retake
    const submitBtn = document.getElementById('submit');
    if (submitBtn) submitBtn.disabled = true;
  }

  function resetQuiz() {
    if (!confirm('Reset all selected answers?')) return;
    document.querySelectorAll('input[type="radio"]').forEach(i => i.checked = false);
    const r = document.getElementById('result');
    r.style.display = 'none';
    r.className = '';
    r.innerHTML = '';
  }

  function retakeQuiz() {
    window.scrollTo({ top: 0, behavior: 'smooth' });
    document.querySelectorAll('input[type="radio"]').forEach(i => i.checked = false);

    const r = document.getElementById('result');
    r.className = '';
    r.innerHTML = '';
    r.style.display = 'none';

    // re-enable submit
    const submitBtn = document.getElementById('submit');
    if (submitBtn) submitBtn.disabled = false;
  }

  function scrollToTop() {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  // utility to escape HTML
  function escapeHtml(s) {
    if (s === null || s === undefined) return '';
    return String(s)
      .replaceAll('&', '&amp;')
      .replaceAll('<', '&lt;')
      .replaceAll('>', '&gt;')
      .replaceAll('"', '&quot;');
  }
</script>
</body>

</html>
